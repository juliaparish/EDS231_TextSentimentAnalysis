---
title: "Topic 06 - Topic Analysis"
author: "Julia Parish"
date: '2022-05-10'
header-includes:
  - \usepackage{float}
  - \floatplacement{figure}{H}
output: 
  pdf_document:
    extra_dependencies: ["float"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, fig.pos='!H')
```

# Topic Analysis

This text sentiment analysis was completed as an assignment for the course, Environmental Data Science 231: Text and Sentiment Analysis for Environmental Problems. The data was sourced from  ...

Original assignment instructions can be found [here](https://maro406.github.io/EDS_231-text-sentiment/topic_6.html)

### Load Libraries

```{r packages}
#install packages as necessary, then load libraries
if (!require(librarian)){
  install.packages("librarian")
  library(librarian)
}

librarian::shelf(here,
                 igraph,
                 kableExtra,
                 ldatuning,
                 LDAvis,
                 LexisNexisTools,
                 lubridate,
                 pdftools,
                 quanteda,
                 quanteda.textplots,
                 quanteda.textstats,
                 readr,
                 reshape2,
                 sentimentr,
                 tidyr,
                 tidytext,
                 tidyverse,
                 tm,
                 topicmodels,
                 tsne)
```

# Run three Topic Analysis models and select the overall best value for k (the number of topics).

Include  justification for the selection: theory, FindTopicsNumber() optimization metrics, interpretability, LDAvis


```{r}
folder <- "/Users/julia/Documents/_MEDS/04_spring/EDS231_TextSentiment/repository/EDS231_TextSentimentAnalysis/assignments/HW06_TopicAnalysis/data"

farm_data <- list.files(pattern = ".DOCX", path = folder, 
                        full.names = TRUE, recursive = TRUE, ignore.case = TRUE)2

# lnt_read = read in a LexisNexis file
data <- lnt_read(farm_data) 
```

```{r}
meta_df <- data@meta
articles_df <- data@articles
paragraphs_df <- data@paragraphs
```

```{r}

headline_df<- data_frame(element_id = seq(1:length(meta_df$Headline)), Date = meta_df$Date, 
                  Headline = meta_df$Headline)

paragraphs_df <- data_frame(element_id = paragraphs_df$Art_ID, Text  = paragraphs_df$Paragraph)

ipm_data <- inner_join(headline_df, paragraphs_df, by = "element_id")
```

